{"ast":null,"code":"import _objectSpread from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectWithoutProperties from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _slicedToArray from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"signal\"];\nimport { useMemo as r, useRef as o, useCallback as n, useEffect as t, useState as e } from \"react\";\nvar s = function s() {\n    return \"undefined\" != typeof window && \"EyeDropper\" in window;\n  },\n  i = function i() {\n    return Promise.reject(new Error(\"Unsupported browser.\"));\n  },\n  c = function c() {\n    var r = o(),\n      _e = e(!1),\n      _e2 = _slicedToArray(_e, 2),\n      i = _e2[0],\n      c = _e2[1];\n    t(function () {\n      return r.current = !0, c(s()), function () {\n        r.current = !1;\n      };\n    }, []);\n    var u = n(function () {\n      return i;\n    }, [i]);\n    return [r, u];\n  },\n  u = function u(r) {\n    var o = function (r) {\n      return s() && new EyeDropper(r);\n    }(r);\n    var n;\n    return (n = o) ? EyeDropper.prototype.open.bind(n) : i;\n  },\n  p = function p(e) {\n    var s = r(function () {\n        return u(e);\n      }, [e]),\n      _c = c(),\n      _c2 = _slicedToArray(_c, 2),\n      i = _c2[0],\n      p = _c2[1],\n      a = o(),\n      f = n(function () {\n        void 0 !== a.current && a.current.abort();\n      }, [a]),\n      d = n(function (r) {\n        void 0 === r && (r = {});\n        try {\n          f();\n          var _r = r,\n            _o = _r.signal,\n            _n = _objectWithoutProperties(_r, _excluded),\n            _t = new AbortController();\n          a.current = _t;\n          var _e3 = void 0 !== _o ? function (r) {\n            var o = new AbortController(),\n              n = function n() {\n                o.abort();\n                var _iterator = _createForOfIteratorHelper(r),\n                  _step;\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var _o2 = _step.value;\n                    _o2.removeEventListener(\"abort\", n);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              };\n            var _iterator2 = _createForOfIteratorHelper(r),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var _o3 = _step2.value;\n                if (_o3.aborted) {\n                  n();\n                  break;\n                }\n                _o3.addEventListener(\"abort\", n);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            return o.signal;\n          }([_o, _t.signal]) : _t.signal;\n          return Promise.resolve(function (r, o) {\n            try {\n              var t = Promise.resolve(s(_objectSpread(_objectSpread({}, _n), {}, {\n                signal: _e3\n              })));\n            } catch (r) {\n              return o(r);\n            }\n            return t && t.then ? t.then(void 0, o) : t;\n          }(0, function (r) {\n            throw i.current || (r.canceled = !0), r;\n          }));\n        } catch (r) {\n          return Promise.reject(r);\n        }\n      }, [a, i, f, s]);\n    return t(function () {\n      return f;\n    }, [f]), {\n      open: d,\n      close: f,\n      isSupported: p\n    };\n  };\nexport { p as default };","map":{"version":3,"names":["useMemo","r","useRef","o","useCallback","n","useEffect","t","useState","e","s","window","i","Promise","reject","Error","c","current","u","EyeDropper","prototype","open","bind","p","a","f","abort","d","signal","AbortController","removeEventListener","aborted","addEventListener","resolve","then","canceled","close","isSupported","default"],"sources":["/Users/mevans/Dev/color-wheel/node_modules/use-eye-dropper/lib/use-eye-dropper.module.js"],"sourcesContent":["import{useMemo as r,useRef as o,useCallback as n,useEffect as t,useState as e}from\"react\";const s=()=>\"undefined\"!=typeof window&&\"EyeDropper\"in window,i=()=>Promise.reject(new Error(\"Unsupported browser.\")),c=()=>{const r=o(),[i,c]=e(!1);t(()=>(r.current=!0,c(s()),()=>{r.current=!1}),[]);const u=n(()=>i,[i]);return[r,u]},u=r=>{const o=(r=>s()&&new EyeDropper(r))(r);var n;return(n=o)?EyeDropper.prototype.open.bind(n):i},p=e=>{const s=r(()=>u(e),[e]),[i,p]=c(),a=o(),f=n(()=>{void 0!==a.current&&a.current.abort()},[a]),d=n(function(r){void 0===r&&(r={});try{f();const{signal:o,...n}=r,t=new AbortController;a.current=t;const e=void 0!==o?(r=>{const o=new AbortController,n=()=>{o.abort();for(const o of r)o.removeEventListener(\"abort\",n)};for(const o of r){if(o.aborted){n();break}o.addEventListener(\"abort\",n)}return o.signal})([o,t.signal]):t.signal;return Promise.resolve(function(r,o){try{var t=Promise.resolve(s({...n,signal:e}))}catch(r){return o(r)}return t&&t.then?t.then(void 0,o):t}(0,function(r){throw i.current||(r.canceled=!0),r}))}catch(r){return Promise.reject(r)}},[a,i,f,s]);return t(()=>f,[f]),{open:d,close:f,isSupported:p}};export{p as default};\n"],"mappings":";;;;;AAAA,SAAOA,OAAO,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,QAAK,OAAO;AAAC,IAAMC,CAAC,GAAC,SAAFA,CAAC;IAAA,OAAK,WAAW,IAAE,OAAOC,MAAM,IAAE,YAAY,IAAGA,MAAM;EAAA;EAACC,CAAC,GAAC,SAAFA,CAAC;IAAA,OAAKC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,sBAAsB,CAAC,CAAC;EAAA;EAACC,CAAC,GAAC,aAAI;IAAO,IAAAf,CAAC,GAACE,CAAC,EAAE;MAAA,KAAOM,CAAC,CAAC,CAAC,CAAC,CAAC;MAAA;MAAVG,CAAC;MAACI,CAAC;IAAQT,CAAC,CAAC;MAAA,OAAKN,CAAC,CAACgB,OAAO,GAAC,CAAC,CAAC,EAACD,CAAC,CAACN,CAAC,EAAE,CAAC,EAAC,YAAI;QAACT,CAAC,CAACgB,OAAO,GAAC,CAAC,CAAC;MAAA,CAAC;IAAA,CAAC,EAAC,EAAE,CAAC;IAAC,IAAMC,CAAC,GAACb,CAAC,CAAC;MAAA,OAAIO,CAAC;IAAA,GAAC,CAACA,CAAC,CAAC,CAAC;IAAC,OAAM,CAACX,CAAC,EAACiB,CAAC,CAAC;EAAA,CAAC;EAACA,CAAC,GAAC,SAAFA,CAAC,CAACjB,CAAC,EAAE;IAAC,IAAME,CAAC,GAAE,UAAAF,CAAC;MAAA,OAAES,CAAC,EAAE,IAAE,IAAIS,UAAU,CAAClB,CAAC,CAAC;IAAA,EAAEA,CAAC,CAAC;IAAC,IAAII,CAAC;IAAC,OAAM,CAACA,CAAC,GAACF,CAAC,IAAEgB,UAAU,CAACC,SAAS,CAACC,IAAI,CAACC,IAAI,CAACjB,CAAC,CAAC,GAACO,CAAC;EAAA,CAAC;EAACW,CAAC,GAAC,WAAAd,CAAC,EAAE;IAAO,IAAAC,CAAC,GAACT,CAAC,CAAC;QAAA,OAAIiB,CAAC,CAACT,CAAC,CAAC;MAAA,GAAC,CAACA,CAAC,CAAC,CAAC;MAAA,KAAOO,CAAC,EAAE;MAAA;MAARJ,CAAC;MAACW,CAAC;MAAMC,CAAC,GAACrB,CAAC,EAAE;MAACsB,CAAC,GAACpB,CAAC,CAAC,YAAI;QAAC,KAAK,CAAC,KAAGmB,CAAC,CAACP,OAAO,IAAEO,CAAC,CAACP,OAAO,CAACS,KAAK,EAAE;MAAA,CAAC,EAAC,CAACF,CAAC,CAAC,CAAC;MAACG,CAAC,GAACtB,CAAC,CAAC,UAASJ,CAAC,EAAC;QAAC,KAAK,CAAC,KAAGA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC;QAAC,IAAG;UAACwB,CAAC,EAAE;UAAC,SAAqBxB,CAAC;YAATE,EAAC,MAARyB,MAAM;YAAMvB,EAAC;YAAIE,EAAC,GAAC,IAAIsB,eAAe;UAACL,CAAC,CAACP,OAAO,GAACV,EAAC;UAAC,IAAME,GAAC,GAAC,KAAK,CAAC,KAAGN,EAAC,GAAE,UAAAF,CAAC,EAAE;YAAC,IAAME,CAAC,GAAC,IAAI0B,eAAe;cAACxB,CAAC,GAAC,SAAFA,CAAC,GAAK;gBAACF,CAAC,CAACuB,KAAK,EAAE;gBAAC,2CAAezB,CAAC;kBAAA;gBAAA;kBAAhB,oDAAiB;oBAAA,IAAPE,GAAC;oBAAMA,GAAC,CAAC2B,mBAAmB,CAAC,OAAO,EAACzB,CAAC,CAAC;kBAAD;gBAAC;kBAAA;gBAAA;kBAAA;gBAAA;cAAA,CAAC;YAAC,4CAAeJ,CAAC;cAAA;YAAA;cAAhB,uDAAiB;gBAAA,IAAPE,GAAC;gBAAO,IAAGA,GAAC,CAAC4B,OAAO,EAAC;kBAAC1B,CAAC,EAAE;kBAAC;gBAAK;gBAACF,GAAC,CAAC6B,gBAAgB,CAAC,OAAO,EAAC3B,CAAC,CAAC;cAAA;YAAC;cAAA;YAAA;cAAA;YAAA;YAAA,OAAOF,CAAC,CAACyB,MAAM;UAAA,CAAC,CAAE,CAACzB,EAAC,EAACI,EAAC,CAACqB,MAAM,CAAC,CAAC,GAACrB,EAAC,CAACqB,MAAM;UAAC,OAAOf,OAAO,CAACoB,OAAO,CAAC,UAAShC,CAAC,EAACE,CAAC,EAAC;YAAC,IAAG;cAAC,IAAII,CAAC,GAACM,OAAO,CAACoB,OAAO,CAACvB,CAAC,iCAAKL,EAAC;gBAACuB,MAAM,EAACnB;cAAC,GAAE,CAAC;YAAA,CAAC,QAAMR,CAAC,EAAC;cAAC,OAAOE,CAAC,CAACF,CAAC,CAAC;YAAA;YAAC,OAAOM,CAAC,IAAEA,CAAC,CAAC2B,IAAI,GAAC3B,CAAC,CAAC2B,IAAI,CAAC,KAAK,CAAC,EAAC/B,CAAC,CAAC,GAACI,CAAC;UAAA,CAAC,CAAC,CAAC,EAAC,UAASN,CAAC,EAAC;YAAC,MAAMW,CAAC,CAACK,OAAO,KAAGhB,CAAC,CAACkC,QAAQ,GAAC,CAAC,CAAC,CAAC,EAAClC,CAAC;UAAA,CAAC,CAAC,CAAC;QAAA,CAAC,QAAMA,CAAC,EAAC;UAAC,OAAOY,OAAO,CAACC,MAAM,CAACb,CAAC,CAAC;QAAA;MAAC,CAAC,EAAC,CAACuB,CAAC,EAACZ,CAAC,EAACa,CAAC,EAACf,CAAC,CAAC,CAAC;IAAC,OAAOH,CAAC,CAAC;MAAA,OAAIkB,CAAC;IAAA,GAAC,CAACA,CAAC,CAAC,CAAC,EAAC;MAACJ,IAAI,EAACM,CAAC;MAACS,KAAK,EAACX,CAAC;MAACY,WAAW,EAACd;IAAC,CAAC;EAAA,CAAC;AAAC,SAAOA,CAAC,IAAIe,OAAO"},"metadata":{},"sourceType":"module"}