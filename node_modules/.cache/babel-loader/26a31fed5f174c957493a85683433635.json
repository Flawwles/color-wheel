{"ast":null,"code":"import _objectSpread from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectWithoutProperties from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _slicedToArray from \"/Users/mevans/Dev/color-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"signal\"];\nimport { useMemo as r, useRef as o, useCallback as e, useEffect as n, useState as t } from \"react\";\nvar p = function p() {\n    return \"undefined\" != typeof window && \"EyeDropper\" in window;\n  },\n  s = function s() {\n    var r = \"Unsupported browser.\";\n    return r = \"Unsupported browser: no EyeDropper in Window. Check https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper_API.\", Promise.reject(new Error(\"Unsupported browser: no EyeDropper in Window. Check https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper_API.\"));\n  },\n  i = function i() {\n    var r = o(),\n      _t = t(!1),\n      _t2 = _slicedToArray(_t, 2),\n      s = _t2[0],\n      i = _t2[1];\n    n(function () {\n      return r.current = !0, i(p()), function () {\n        r.current = !1;\n      };\n    }, []);\n    var c = e(function () {\n      return s;\n    }, [s]);\n    return [r, c];\n  },\n  c = function c(r) {\n    var o = function (r) {\n      return p() && new EyeDropper(r);\n    }(r);\n    var e;\n    return (e = o) ? EyeDropper.prototype.open.bind(e) : s;\n  },\n  d = function d(t) {\n    var p = r(function () {\n        return c(t);\n      }, [t]),\n      _i = i(),\n      _i2 = _slicedToArray(_i, 2),\n      s = _i2[0],\n      d = _i2[1],\n      u = o(),\n      l = e(function () {\n        void 0 !== u.current && u.current.abort();\n      }, [u]),\n      a = e(function (r) {\n        void 0 === r && (r = {});\n        try {\n          l();\n          var _r = r,\n            _o = _r.signal,\n            _e = _objectWithoutProperties(_r, _excluded),\n            _n = new AbortController();\n          u.current = _n;\n          var _t3 = void 0 !== _o ? function (r) {\n            var o = new AbortController(),\n              e = function e() {\n                o.abort();\n                var _iterator = _createForOfIteratorHelper(r),\n                  _step;\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var _o2 = _step.value;\n                    _o2.removeEventListener(\"abort\", e);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              };\n            var _iterator2 = _createForOfIteratorHelper(r),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var _o3 = _step2.value;\n                if (_o3.aborted) {\n                  e();\n                  break;\n                }\n                _o3.addEventListener(\"abort\", e);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n            return o.signal;\n          }([_o, _n.signal]) : _n.signal;\n          return Promise.resolve(function (r, o) {\n            try {\n              var n = Promise.resolve(p(_objectSpread(_objectSpread({}, _e), {}, {\n                signal: _t3\n              })));\n            } catch (r) {\n              return o(r);\n            }\n            return n && n.then ? n.then(void 0, o) : n;\n          }(0, function (r) {\n            throw s.current || (r.canceled = !0), r;\n          }));\n        } catch (r) {\n          return Promise.reject(r);\n        }\n      }, [u, s, l, p]);\n    return n(function () {\n      return l;\n    }, [l]), {\n      open: a,\n      close: l,\n      isSupported: d\n    };\n  };\nexport { d as default };","map":{"version":3,"names":["useMemo","r","useRef","o","useCallback","e","useEffect","n","useState","t","p","window","s","Promise","reject","Error","i","current","c","EyeDropper","prototype","open","bind","d","u","l","abort","a","signal","AbortController","removeEventListener","aborted","addEventListener","resolve","then","canceled","close","isSupported","default"],"sources":["/Users/mevans/Dev/color-wheel/node_modules/use-eye-dropper/lib/use-eye-dropper.module.dev.js"],"sourcesContent":["import{useMemo as r,useRef as o,useCallback as e,useEffect as n,useState as t}from\"react\";const p=()=>\"undefined\"!=typeof window&&\"EyeDropper\"in window,s=()=>{let r=\"Unsupported browser.\";return r=\"Unsupported browser: no EyeDropper in Window. Check https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper_API.\",Promise.reject(new Error(\"Unsupported browser: no EyeDropper in Window. Check https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper_API.\"))},i=()=>{const r=o(),[s,i]=t(!1);n(()=>(r.current=!0,i(p()),()=>{r.current=!1}),[]);const c=e(()=>s,[s]);return[r,c]},c=r=>{const o=(r=>p()&&new EyeDropper(r))(r);var e;return(e=o)?EyeDropper.prototype.open.bind(e):s},d=t=>{const p=r(()=>c(t),[t]),[s,d]=i(),u=o(),l=e(()=>{void 0!==u.current&&u.current.abort()},[u]),a=e(function(r){void 0===r&&(r={});try{l();const{signal:o,...e}=r,n=new AbortController;u.current=n;const t=void 0!==o?(r=>{const o=new AbortController,e=()=>{o.abort();for(const o of r)o.removeEventListener(\"abort\",e)};for(const o of r){if(o.aborted){e();break}o.addEventListener(\"abort\",e)}return o.signal})([o,n.signal]):n.signal;return Promise.resolve(function(r,o){try{var n=Promise.resolve(p({...e,signal:t}))}catch(r){return o(r)}return n&&n.then?n.then(void 0,o):n}(0,function(r){throw s.current||(r.canceled=!0),r}))}catch(r){return Promise.reject(r)}},[u,s,l,p]);return n(()=>l,[l]),{open:a,close:l,isSupported:d}};export{d as default};\n"],"mappings":";;;;;AAAA,SAAOA,OAAO,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,QAAK,OAAO;AAAC,IAAMC,CAAC,GAAC,SAAFA,CAAC;IAAA,OAAK,WAAW,IAAE,OAAOC,MAAM,IAAE,YAAY,IAAGA,MAAM;EAAA;EAACC,CAAC,GAAC,SAAFA,CAAC,GAAK;IAAC,IAAIX,CAAC,GAAC,sBAAsB;IAAC,OAAOA,CAAC,GAAC,sHAAsH,EAACY,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,sHAAsH,CAAC,CAAC;EAAA,CAAC;EAACC,CAAC,GAAC,aAAI;IAAO,IAAAf,CAAC,GAACE,CAAC,EAAE;MAAA,KAAOM,CAAC,CAAC,CAAC,CAAC,CAAC;MAAA;MAAVG,CAAC;MAACI,CAAC;IAAQT,CAAC,CAAC;MAAA,OAAKN,CAAC,CAACgB,OAAO,GAAC,CAAC,CAAC,EAACD,CAAC,CAACN,CAAC,EAAE,CAAC,EAAC,YAAI;QAACT,CAAC,CAACgB,OAAO,GAAC,CAAC,CAAC;MAAA,CAAC;IAAA,CAAC,EAAC,EAAE,CAAC;IAAC,IAAMC,CAAC,GAACb,CAAC,CAAC;MAAA,OAAIO,CAAC;IAAA,GAAC,CAACA,CAAC,CAAC,CAAC;IAAC,OAAM,CAACX,CAAC,EAACiB,CAAC,CAAC;EAAA,CAAC;EAACA,CAAC,GAAC,SAAFA,CAAC,CAACjB,CAAC,EAAE;IAAC,IAAME,CAAC,GAAE,UAAAF,CAAC;MAAA,OAAES,CAAC,EAAE,IAAE,IAAIS,UAAU,CAAClB,CAAC,CAAC;IAAA,EAAEA,CAAC,CAAC;IAAC,IAAII,CAAC;IAAC,OAAM,CAACA,CAAC,GAACF,CAAC,IAAEgB,UAAU,CAACC,SAAS,CAACC,IAAI,CAACC,IAAI,CAACjB,CAAC,CAAC,GAACO,CAAC;EAAA,CAAC;EAACW,CAAC,GAAC,WAAAd,CAAC,EAAE;IAAO,IAAAC,CAAC,GAACT,CAAC,CAAC;QAAA,OAAIiB,CAAC,CAACT,CAAC,CAAC;MAAA,GAAC,CAACA,CAAC,CAAC,CAAC;MAAA,KAAOO,CAAC,EAAE;MAAA;MAARJ,CAAC;MAACW,CAAC;MAAMC,CAAC,GAACrB,CAAC,EAAE;MAACsB,CAAC,GAACpB,CAAC,CAAC,YAAI;QAAC,KAAK,CAAC,KAAGmB,CAAC,CAACP,OAAO,IAAEO,CAAC,CAACP,OAAO,CAACS,KAAK,EAAE;MAAA,CAAC,EAAC,CAACF,CAAC,CAAC,CAAC;MAACG,CAAC,GAACtB,CAAC,CAAC,UAASJ,CAAC,EAAC;QAAC,KAAK,CAAC,KAAGA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC;QAAC,IAAG;UAACwB,CAAC,EAAE;UAAC,SAAqBxB,CAAC;YAATE,EAAC,MAARyB,MAAM;YAAMvB,EAAC;YAAIE,EAAC,GAAC,IAAIsB,eAAe;UAACL,CAAC,CAACP,OAAO,GAACV,EAAC;UAAC,IAAME,GAAC,GAAC,KAAK,CAAC,KAAGN,EAAC,GAAE,UAAAF,CAAC,EAAE;YAAC,IAAME,CAAC,GAAC,IAAI0B,eAAe;cAACxB,CAAC,GAAC,SAAFA,CAAC,GAAK;gBAACF,CAAC,CAACuB,KAAK,EAAE;gBAAC,2CAAezB,CAAC;kBAAA;gBAAA;kBAAhB,oDAAiB;oBAAA,IAAPE,GAAC;oBAAMA,GAAC,CAAC2B,mBAAmB,CAAC,OAAO,EAACzB,CAAC,CAAC;kBAAD;gBAAC;kBAAA;gBAAA;kBAAA;gBAAA;cAAA,CAAC;YAAC,4CAAeJ,CAAC;cAAA;YAAA;cAAhB,uDAAiB;gBAAA,IAAPE,GAAC;gBAAO,IAAGA,GAAC,CAAC4B,OAAO,EAAC;kBAAC1B,CAAC,EAAE;kBAAC;gBAAK;gBAACF,GAAC,CAAC6B,gBAAgB,CAAC,OAAO,EAAC3B,CAAC,CAAC;cAAA;YAAC;cAAA;YAAA;cAAA;YAAA;YAAA,OAAOF,CAAC,CAACyB,MAAM;UAAA,CAAC,CAAE,CAACzB,EAAC,EAACI,EAAC,CAACqB,MAAM,CAAC,CAAC,GAACrB,EAAC,CAACqB,MAAM;UAAC,OAAOf,OAAO,CAACoB,OAAO,CAAC,UAAShC,CAAC,EAACE,CAAC,EAAC;YAAC,IAAG;cAAC,IAAII,CAAC,GAACM,OAAO,CAACoB,OAAO,CAACvB,CAAC,iCAAKL,EAAC;gBAACuB,MAAM,EAACnB;cAAC,GAAE,CAAC;YAAA,CAAC,QAAMR,CAAC,EAAC;cAAC,OAAOE,CAAC,CAACF,CAAC,CAAC;YAAA;YAAC,OAAOM,CAAC,IAAEA,CAAC,CAAC2B,IAAI,GAAC3B,CAAC,CAAC2B,IAAI,CAAC,KAAK,CAAC,EAAC/B,CAAC,CAAC,GAACI,CAAC;UAAA,CAAC,CAAC,CAAC,EAAC,UAASN,CAAC,EAAC;YAAC,MAAMW,CAAC,CAACK,OAAO,KAAGhB,CAAC,CAACkC,QAAQ,GAAC,CAAC,CAAC,CAAC,EAAClC,CAAC;UAAA,CAAC,CAAC,CAAC;QAAA,CAAC,QAAMA,CAAC,EAAC;UAAC,OAAOY,OAAO,CAACC,MAAM,CAACb,CAAC,CAAC;QAAA;MAAC,CAAC,EAAC,CAACuB,CAAC,EAACZ,CAAC,EAACa,CAAC,EAACf,CAAC,CAAC,CAAC;IAAC,OAAOH,CAAC,CAAC;MAAA,OAAIkB,CAAC;IAAA,GAAC,CAACA,CAAC,CAAC,CAAC,EAAC;MAACJ,IAAI,EAACM,CAAC;MAACS,KAAK,EAACX,CAAC;MAACY,WAAW,EAACd;IAAC,CAAC;EAAA,CAAC;AAAC,SAAOA,CAAC,IAAIe,OAAO"},"metadata":{},"sourceType":"module"}